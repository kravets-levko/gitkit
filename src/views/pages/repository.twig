{% extends 'layout/main.twig' %}

{% block title %}{{ group }}/{{ name }} - GitKit{% endblock %}

{% block content %}
  <h1><a href="{{ group }}/{{ name }}">{{ group }}/{{ name }}</a></h1>
  <div class="row my-3">
    <div class="col-auto">
      {% include 'components/ref-selector.twig' with {
        ref: ref,
        branches: repository.branches,
        tags: repository.tags,
        base: group ~ '/' ~ name,
      } %}
    </div>
    <div class="col"></div>
    <div class="col-auto">
      {% include 'components/clone-urls.twig' with {
        cloneUrls: repository.cloneUrls
      } %}
    </div>
  </div>

  <div class="card mb-3">
    <div class="card-header p-0">
      {% include 'components/latest-commit.twig' with {
        commit: ref.type == 'commit' ? ref : ref.head,
      } %}
    </div>

    <div class="card-body p-0">
      {% include 'components/tree-view.twig' with {
        ref: ref,
        defaultBranch: repository.defaultBranch,
        path: path,
        base: group ~ '/' ~ name,
      } %}
    </div>
  </div>

  {% include 'components/readme.twig' with {tree: ref.tree} %}
{% endblock %}